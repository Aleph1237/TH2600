    SEI             ; Disable interrupts
    CLD             ; Clear decimal mode
    LDX #$FF
    TXS             ; Set up the stack pointer
    INX             ; X register to 0

    STX VBLANK      ; Disable vertical blanking
    STX COLUBK      ; Set background color to black
    LDA #$02
    STA COLUPF      ; Set playfield color
    LDA #$01
    STA COLUP0      ; Set player 0 color

MainLoop:
    LDA #$2C        ; Load A register with the value for a visible square
    STA GRP0        ; Set player 0 graphics register

    LDA #$00
    STA VSYNC       ; Start vertical sync
    STA VBLANK      ; End vertical sync, start vertical blank

    LDX #$FF        ; Delay for vertical blank
DelayVBlank:
    DEX
    BNE DelayVBlank

    LDA #$00
    STA VBLANK      ; End vertical blank

    ; New code for vertical movement
    LDY #$00        ; Y register as a counter for movement delay
MovementLoop:
    INY             ; Increase Y register
    CPY MovementDelay ; Compare Y with our movement delay
    BNE MovementLoop  ; Loop until Y equals MovementDelay

    LDX #$1F        ; Duration to display the square
DrawLoop:
    STA WSYNC       ; Wait for the start of the next scan line
    STA GRP0        ; Display player 0 graphics (the square)
    DEX
    BNE DrawLoop

    LDA #$02
    STA VBLANK      ; Start vertical blank to finish the frame

    JMP MainLoop    ; Loop back to start

; TIA register addresses
VSYNC  = $00
VBLANK = $01
COLUBK = $09
COLUP0 = $06
COLUPF = $08
GRP0   = $1B
WSYNC  = $02

; Movement parameters
MovementDelay = $0A ; Adjust this value for different speeds/heights

    END             ; End of the program
